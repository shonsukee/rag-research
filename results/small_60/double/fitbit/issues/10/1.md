# LLM Response
```cs
    [Route("fitbit")]
    public ActionResult Authorize()
    {

        //make sure you've set these up in Web.Config under <appSettings>:
        string ConsumerKey = ConfigurationManager.AppSettings["FitbitConsumerKey"];
        string ConsumerSecret = ConfigurationManager.AppSettings["FitbitConsumerSecret"];


        string redirectUri = ConfigurationManager.AppSettings["FitbitRedirectUri"];
        string scope = "activity heartrate sleep weight";
        string authUrl = string.Format("https://www.fitbit.com/oauth2/authorize?response_type=code&client_id={0}&redirect_uri={1}&scope={2}", ConsumerKey, Uri.EscapeDataString(redirectUri), Uri.EscapeDataString(scope));
        return Redirect(authUrl);
    }
```

# User Query
## Instruction
You are a software engineer specializing in REST APIs.
Please follow the guidelines below to make the necessary modifications.

### Modification Procedure
1. Analyze the deprecated specifications based on `## Deprecated specification`.
2. Based on the analysis in step 1., identify code snippets that follow deprecated specifications within the source code in `## Input Code`.
3. Analyze the latest specifications based on `## Latest specification`.
4. Modify the code snippets identified in step 2. to follow the latest specifications analyzed in step 3., while paying attention to the points listed in `### Attention` below.

### Attention
There may be multiple code snippets following deprecated specifications within `## Input Code`.
Only refer to the information in `## Latest specification` when making modifications.
Do not perform refactoring or add comments; only modify the parts of the code that follow deprecated specifications to conform to the latest specifications.
Copy the source code from `## Input Code` before making modifications.
Delete all parts only according to the deprecated specification and modify the code to conform to the latest specification.
Only modify the parts of the code that follow deprecated specifications.
If no deprecated specification is found in the source code of the `## Input Code`, compare the source code with the latest specification to identify any differences. If modifications are required, modify the source code according to the latest specification.
Make sure to modify all code that follows deprecated specifications.
After modifications, ensure that all code following deprecated specifications has been replaced with code that conforms to the latest specifications.
If multiple deprecated specifications are present within `## Input Code`, confirm that all are unified under the latest specifications.

## Deprecated specification
```
【Context No.1】
## Sleep Time Series (Deprecated)
**Note:** This API has been deprecated with the introduction of version 1.2 of
the Sleep APIs described above. Sleep Stages data cannot be retrieved with
this API. If your application requires data consistency while you transition
over to the version 1.2 Sleep APIs, you can get this data through the [version
1 Get Sleep Logs by Date endpoint](/build/reference/web-api/sleep-v1/#get-
sleep-logs-by-date).
The **Get Sleep Time Series** endpoint returns time series data in the
specified range for a given resource in the format requested using units in
the [unit system](/build/reference/web-api/basics#units) that corresponds to
the Accept-Language header provided.
**Note:** Even if you provide earlier dates in the request, the response
retrieves only data since the user's join date or the first log entry date for
the requested collection.
#### Resource URL
There are two acceptable formats for retrieving intraday data:

    GET https://api.fitbit.com/1/user/[user-id]/[resource-path]/date/[date]/[period].json

**api-version** | The API version. Currently version **1**.
---|---
**user-id** | The encoded ID of the user. Use "-" (dash) for current logged-in user.
**resource-path** | The resource path; see the **Resource Path Options** below for a list of options.
**date** | The end date of the period specified in the format **yyyy-MM-dd** or **today**.
**period** | The range for which data will be returned. Options are **1d, 7d, 30d, 1w, 1m, 3m, 6m, 1y,** or **max.**

    GET https://api.fitbit.com/1/user/[user-id]/[resource-path]/date/[base-date]/[end-date].json

**api-version** | The API version. Currently version **1**.
---|---
**user-id** | The encoded ID of the user. Use "-" (dash) for current logged-in user.
**resource-path** | The resource path; see the **Resource Path Options** below for a list of options.
**base-date** | The range start date, in the format **yyyy-MM-dd** or **today**.

【Context No.2】
{
        "sleep": {
            "awakeCount": 0,
            "awakeDuration": 0,
            "awakeningsCount": 0,
            "dateOfSleep": "2017-03-28",
            "duration": 7200000,
            "efficiency": 100,
            "isMainSleep": false,
            "logId": 10183454484,
            "minuteData": [
                {
                    "dateTime": "02:32:00",
                    "value": "1"
                },
                {
                    "dateTime": "02:33:00",
                    "value": "1"
                },
                {
                    "dateTime": "02:34:00",
                    "value": "1"
                },
                {
                    "dateTime": "02:35:00",
                    "value": "1"
                },
                {
                    "dateTime": "02:36:00",
                    "value": "1"
                },
                <...>
            ],
            "minutesAfterWakeup": 0,
            "minutesAsleep": 120,
            "minutesAwake": 0,
            "minutesToFallAsleep": 0,
            "restlessCount": 0,
            "restlessDuration": 0,
            "startTime": "2017-03-28T02:32:00.000",
            "timeInBed": 120
        }
    }

## Delete Sleep Log
The **Delete Sleep Log** endpoint deletes a user's sleep log entry with the
given ID.
#### Resource URL

    DELETE https://api.fitbit.com/1/user/[user-id]/sleep/[log-id].jso

**user-id** | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---
**log-id** | ID of the sleep log to be deleted.
#### Response
A successful request will return a **204** status code with an empty response
body.
## Sleep Time Series (Deprecated)
**Note:** This API has been deprecated with the introduction of version 1.2 of
the Sleep APIs described above. Sleep Stages data cannot be retrieved with
this API.

【Context No.3】
**resource-path** | The resource path; see the **Resource Path Options** below for a list of options.
**base-date** | The range start date, in the format **yyyy-MM-dd** or **today**.
**end-date** | The end date of the range.
#### Resource Path Options

    sleep/startTime
    sleep/timeInBed
    sleep/minutesAsleep
    sleep/awakeningsCount
    sleep/minutesAwake
    sleep/minutesToFallAsleep
    sleep/minutesAfterWakeup
    sleep/efficiency

#### Example Requests

    GET https://api.fitbit.com/1/user/-/sleep/minutesAsleep/date/today/2014-09-01.json
    GET https://api.fitbit.com/1/user/-/sleep/minutesAsleep/date/2014-09-01/today.json

#### Request Headers
**Accept-Language** | optional | The language to use for response values. Language is used to determine the food measurement units returned.
---|---|---
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/partner-help/)
[Partner Support](/build/reference/web-api/partner-help/)

【Context No.4】
Keep in mind that it is **NOT** possible to
create overlapping log entries. The **dateOfSleep** in the response for the
sleep log is the date on which the sleep event ends.
#### Resource URL

    POST https://api.fitbit.com/1/user/[user-id]/sleep.json

**user-id** | The ID of the user. Use "-" (dash) for current logged-in user.
---|---
#### POST Parameters
**startTime** | **required** | Start time; hours and minutes in the format **HH:mm**.
---|---|---
**duration** | **required** | Duration in milliseconds.
**date** | **required** | Log entry date in the format **yyyy-MM-dd**.
#### Example Request

    POST https://api.fitbit.com/1/user/-/sleep.json?date=2017-03-27&startTime=19:55&duration=7200000

#### Example Response
**Note:** The text within the brackets `<>` is a descriptive placeholder for a
value or repeated elements.

【Context No.5】
# Sleep Logs Version 1 (Deprecated)
## Overview
These endpoints are deprecated and support for them may end unexpectedly. If
your application does not depend on the sleep as calculated by these
endpoints, please use the new [v1.2 sleep endpoints](/build/reference/web-
api/sleep/).
> **Note** : Version 1 APIs **do not** support Sleep Stages data
## Get Sleep Logs by Date
The **Get Sleep Logs by Date** endpoint returns a summary and list of a user's
sleep log entries (including naps) as well as detailed sleep entry data for a
given day.
The relationship between sleep log entry properties is expressed with the
following equation:

     timeInBed = minutesToFallAsleep + minutesAsleep + minutesAwake +
     minutesAfterWakeup

#### Resource URL

    GET https://api.fitbit.com/1/user/[user-id]/sleep/date/[date].json

URL parameters:
**user-id** | The ID of the user. Use "-" (dash) for current logged-in user.
---|---
**date** | The date of records to be returned. In the format **yyyy-MM-dd**.
#### Example Request

    GET https://api.fitbit.com/1/user/-/sleep/date/2014-09-01.json

#### Example Response
**Note:** The text within the brackets `<>` is a descriptive placeholder for a
value or repeated elements. Also, values for **minuteData** can be **1**
("asleep"), **2** ("restless"), or **3** ("awake").
```

## Input Code
```
    [Route("fitbit")]
    public ActionResult Authorize()
    {

        //make sure you've set these up in Web.Config under <appSettings>:
        string ConsumerKey = ConfigurationManager.AppSettings["FitbitConsumerKey"];
        string ConsumerSecret = ConfigurationManager.AppSettings["FitbitConsumerSecret"];


        Fitbit.Api.Authenticator authenticator = new Fitbit.Api.Authenticator(ConsumerKey,
                                                                                ConsumerSecret,
                                                                                "http://api.fitbit.com/oauth/request_token",
                                                                                "http://api.fitbit.com/oauth/access_token",
                                                                                "http://api.fitbit.com/oauth/authorize");
        RequestToken token = authenticator.GetRequestToken();
        Session.Add("FitbitRequestTokenSecret", token.Secret.ToString()); //store this somehow, like in Session as we'll need it after the Callback() action

        //note: at this point the RequestToken object only has the Token and Secret properties supplied. Verifier happens later.

        string authUrl = authenticator.GenerateAuthUrlFromRequestToken(token, true);
        return Redirect(authUrl);
    }
```

## Latest specification
```
【Context No.1】
## Additional Information
The response if provided in the format requested using units in the unit
system which corresponds to the Accept-Language header provided.
A recent activity record contains the distance and duration values recorded
during the last time the activity was logged. The record retrieved can be used
to log the activity via the Log Activity endpoint with the same or adjusted
values for distance and duration.
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
[!

【Context No.2】
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-frequent-activities/)
[Get Frequent Activities](/build/reference/web-api/activity/get-frequent-
activities/)
[Get Recent Activity Types](/build/reference/web-api/activity/get-recent-
activity-types/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-recent-activity-types/)

【Context No.3】
# Get Weight Time Series by Date
Retrieves a list of all user's weight log entries for a given period.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/log/weight/date/[date]/[period].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
date | required | The end date of the period specified in the format `yyyy-MM-dd` or `today`.
period | required | The range for which data will be returned.
**Supported:** `1d` | `7d` | `30d` | `1w` | `1m`. 3m, 6m, 1y, or max are not supported.
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/body/log/weight/date/2019-03-01/7d.json
GET
https://api.fitbit.com/1/user/GGNJL9/body/log/weight/date/2019-03-01/7d.json
curl -X GET
"https://api.fitbit.com/1/user/-/body/log/weight/date/2019-03-01/7d.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
weight : bmi | Calculated BMI in the format X.XX.
weight : date | Log entry date in the format yyyy-MM-dd.
weight : fat | The body fat percentage.
weight : logId | The weight log IDs. It's unique to the user, but not globally unique.

【Context No.4】
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
### Webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.

【Context No.5】
Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
### "offset" query parameter
The offset query parameter is not fully supported and it's future is unknown.
Therefore, the only supported value is 0. To paginate, request the next and
previous links in the pagination response object. Using the "offset" query
parameter in any other capacity could cause your application to break.
### Webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.
The activity collection recognizes changes to a user’s recorded activities,
step count, calories burned, distance traveled, etc.

【Context No.6】
Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
### Webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.
The activity collection recognizes changes to a user’s recorded activities,
step count, calories burned, distance traveled, etc. Keep in mind that even
when a person is not in motion, their body is burning calories. It’s possible
to receive activity notifications representing calorie burn even when the user
is sleeping or stationary. Today, you cannot subscribe to a subset of the
user’s activity data.

【Context No.7】
If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
### Webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.
The activity collection recognizes changes to a user’s recorded activities,
step count, calories burned, distance traveled, etc. Keep in mind that even
when a person is not in motion, their body is burning calories. It’s possible
to receive activity notifications representing calorie burn even when the user
is sleeping or stationary. Today, you cannot subscribe to a subset of the
user’s activity data. So, it is the responsibility of your application to
query the necessary activity endpoint(s) to reconcile the data in your system.
[!

【Context No.8】
If the total is less than 20% greater than BMR
then the EER (cals < EER * 0.8) is used. EER never used to calculate calories
for today.
#### Using BMR Formula
Fitbit uses the standard MD Mifflin-St Jeor equation:

    9.99 * weightKg + 6.25*heightCm - 4.92*ageYears + s, where s is +5 for
    males and -161 for female
#### EER Formula (TEE total energy expenditure)
The EER Formula is based on
<http://www.cdc.gov/pcd/issues/2006/oct/pdf/06_0034.pdf>, which in turn is
based on "Food and Nutrition Board. Dietary reference intakes for energy,
carbohydrate, fiber, fat, fatty acids, cholesterol, protein, and amino acids
(macronutrients). Washington (DC): National Academy Press; 2005."
[http://www.nap.edu/openbook.php?isbn=0309085373&page=204](http://www.nap.edu/openbook.php?isbn=0309085373&page=204)
#### MALE-based EER Formula:

    TEE = 864 - 9.72 x age (years) + 1.0 x (14.2 x weight(kg) + 503 x height
    (meters))
#### FEMALE-based EER Formula:

    TEE = 387 - 7.31 x age (years) + 1.0 x (10.9 x weight(kg) + 660.7 x height
    (meters))
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.

【Context No.9】
If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
### Webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.
The activity collection recognizes changes to a user’s recorded activities,
step count, calories burned, distance traveled, etc. Keep in mind that even
when a person is not in motion, their body is burning calories. It’s possible
to receive activity notifications representing calorie burn even when the user
is sleeping or stationary. Today, you cannot subscribe to a subset of the
user’s activity data. So, it is the responsibility of your application to
query the necessary activity endpoint(s) to reconcile the data in your system.

【Context No.10】
distance | Distance traveled associated with the recorded activity.
duration | The length in time (milliseconds) after the exercise was edited. This value will contain pauses during the exercise.
name | The name of the recorded activity.

    [
      {
        "activityId": 90013,
        "calories": -1,
        "description": "Walking less than 2 mph, strolling very slowly",
        "distance": 1.61,
        "duration": 1178000,
        "name": "Walk"
      },
      {
        "activityId": 15000,
        "calories": 0,
        "description": "",
        "distance": 0,
        "duration": 1228000,
        "name": "Sport"
      }
    ]

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
The response if provided in the format requested using units in the unit
system which corresponds to the Accept-Language header provided.

【Context No.11】
description | Information, if available, about the activity or exercise.
distance | Distance traveled during the recorded activity.
duration | Amount of time (milliseconds) to complete the recorded activity.
name | The name of the activity or exercise.

    [
      {
        "activityId": 90013,
        "calories": -1,
        "description": "Walking less than 2 mph, strolling very slowly",
        "distance": 1.61,
        "duration": 1178000,
        "name": "Walk"
      },
      {
        "activityId": 1071,
        "calories": 0,
        "description": "",
        "distance": 0,
        "duration": 973000,
        "name": "Outdoor Bike"
      }
    ]

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
The response if provided in the format requested using units in the unit
system which corresponds to the Accept-Language header provided.

【Context No.12】
# Create Weight Log
Creates a weight log entry
**Scope:** _weight_
* * *
## Request
POST |  /1/user/[user-id]/body/log/weight.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Query Parameters**
weight | required | Weight measurement in the format X.XX. | decimal
---|---|---|---
date | required | The date the weight measurement was recorded in the format yyyy-MM-dd. | string ($date)
time | optional | The timestamp the weight measurement was recorded in the format HH:mm:ss. If a value is not provided, the timestamp will be the last second of the day. | string ($time)
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
content-length | required | According to [RFC 7230, section 3.3.2](https://tools.ietf.org/html/rfc7230#section-3.3.2), this HTTP request requires the Content-Length header field containing the anticipated size of the payload body.

【Context No.13】
**Examples**
  * URL
  * CURL
POST
https://api.fitbit.com/1/user/-/body/log/weight.json?weight=181&date=2019-03-01
POST
https://api.fitbit.com/1/user/GGNJL9/body/log/weight.json?weight=181&date=2019-03-01

curl -X POST
"https://api.fitbit.com/1/user/-/body/log/weight.json?weight=181&date=2019-03-01"
\
-H "accept: application/json" \
-H "authorization: Bearer <access_token>" \
-H "content-length: <message_body_size>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
weightLog : bmi | Calculated BMI in the format X.XX
weightLog : date | Log entry date in the format yyyy-MM-dd
weightLog : logId | Weight Log IDs are unique to the user, but not globally unique.
weightLog : source | The source of the weight log. See ["source" values](/build/reference/web-api/body/create-weight-log/#source-values) for more information.
**Support:** `API` | `Aria` | `AriaAir` | `Withings`
weightLog : time | Time of the measurement; hours and minutes in the format HH:mm:ss, set to the last second of the day if not provided.
weightLog : weight | Weight in the format X.XX, in the unit system that corresponds to the Accept-Language header provided or if not provided in metric.

    {
      "weightLog": [
        {
          "bmi": 25.91,
          "date": "2019-03-01",
          "logId": 1553067494000,
          "source": "Aria",
          "time": "07:38:14",
          "weight": 200
        }
      ]
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.

【Context No.14】
# Get Activity TCX
The Training Center XML (TCX) is a data exchange format that contains GPS,
heart rate, and lap data. This endpoint retrieves the details of a user's
location using GPS and heart rate data during a logged exercise.
**Scope:** _activity_ and _location_
* * *
## Request
GET |  /1/user/[user-id]/activities/[log-id].tcx
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
log-id | required | The activity's log ID.
**Query Parameters**
includePartialTCX | optional | Includes the TCX points when the GPS data is not available. | boolean
---|---|---|---
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/vnd.garmin.tcx+xml`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET
https://api.fitbit.com/1/user/-/activities/20510012273.tcx?includePartialTCX=true
GET
https://api.fitbit.com/1/user/GGNJL9/activities/20510012273.tcx?includePartialTCX=true
curl -X GET
"https://api.fitbit.com/1/user/-/activities/20510012273.tcx?includePartialTCX=true
\"
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
Activity : Sport |
Activity : Id | The identifier or timestamp of the associated exercise.
Lap : StartTime | Timestamp representing each lap's start time.
Lap : TotalTimeSeconds | Length of the exercise lap in seconds.
Lap : DistanceMeters | Number of meters traveled during the exercise lap.

【Context No.15】
# Get Body Time Series by Date
Retrieves a list of all user's bmi, body fat, or weight for a given period.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/[resource]/date/[date]/[period].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
resource | required | The body resource to be returned.
**Supported** : `bmi` | `fat` | `weight`
date | required | The end date of the period specified in the format `yyyy-MM-dd` or `today`.
period | required | The range for which data will be returned.
**Supported:** `1d` | `7d` | `30d` | `1w` | `1m` | `3m` | `6m` | `1y` | `max`
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/body/weight/date/today/7d.json
GET https://api.fitbit.com/1/user/GGNJL9/body/weight/date/today/7d.json
curl -X GET "https://api.fitbit.com/1/user/-/body/weight/date/today/7d.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
body-<resource> : datetime | The datetime which the resource was recorded.
body-<resource> : value | The value of the resource.

【Context No.16】
## Additional Information
The response uses the measurement units as defined in the unit system, which
corresponds to the Accept-Language header provided.
#### Considerations
  * Only the current goals are returned.
  * Floors goal only returned for users who currently or have previously paired a Fitbit device with an altimeter.
  * Calories out goal represents either dynamic daily target from the Premium trainer plan or manual calorie burn goal.
The default daily goal values are:
  * 10 floors;
  * 30 active minutes; and
  * Calories out is user specific, which accounts for BMR.
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer. When the user drills down into the exercise
details, like data charts or maps, they should see the more accurate data
coming from the GPS or Intraday data.
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.

【Context No.17】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
You can read more about data accuracy in the **Clinical Study** section of the
[Fitbit ECG App Instructions for
Use](https://support.google.com/fitbit/answer/14253977#samd).
Additional information about the Fitbit ECG app can be found in the help
article [What is the Fitbit ECG
app?](https://support.google.com/fitbit/answer/14236718).
### Limit / Offset
ECG data is very large because of the waveforms. Because of this, we cannot
query and return large numbers of ECG results, and limit the number of results
to 10. The offset query parameter is not fully supported and it's future is
unknown. Therefore, the only supported value is 0. Using the "offset" query
parameter in any other capacity could cause your application to break.
To paginate, request the next and previous links in the pagination response
object.

【Context No.18】
Dietary reference intakes for energy,
carbohydrate, fiber, fat, fatty acids, cholesterol, protein, and amino acids
(macronutrients). Washington (DC): National Academy Press; 2005."
[http://www.nap.edu/openbook.php?isbn=0309085373&page=204](http://www.nap.edu/openbook.php?isbn=0309085373&page=204)
#### MALE-based EER Formula:

    TEE = 864 - 9.72 x age (years) + 1.0 x (14.2 x weight(kg) + 503 x height
    (meters))
#### FEMALE-based EER Formula:

    TEE = 387 - 7.31 x age (years) + 1.0 x (10.9 x weight(kg) + 660.7 x height
    (meters))
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.
Intraday distance values, returned by the Intraday endpoints or Activity TCX
endpoint, can be more accurate since they use the GPS data. To determine how
the exercise was recorded, see [ "logType" values](/build/reference/web-
api/activity/get-activity-log-list/#logType-values).
Some people have noticed that the standard formula for calculating pace and
speed doesn't always provide accurate results. That's because pace and speed
are calculated from the GPS data, while the total distance is an approximate
value based on how the tracker calculates distance (GPS vs steps & stride
length). The mobile application duplicates the tracker distance value by
displaying the exercise summary view. This is done to provide a better user
experience for the consumer.

【Context No.19】
# Get Weight Time Series by Date Range
Retrieves a list of all user's weight log entries for a given date range.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/log/weight/date/[start-date]/[end-date].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
start-date | required | The start date specified in the format `yyyy-MM-dd` or `today`.
end-date | required | The end date specified in the format `yyyy-MM-dd` or `today`.
**Maximum range:** `31 days`
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET
https://api.fitbit.com/1/user/-/body/log/weight/date/2019-02-20/2019-03-01.json
GET
https://api.fitbit.com/1/user/GGNJL9/body/log/weight/date/2019-02-20/2019-03-01.json
curl -X GET
"https://api.fitbit.com/1/user/-/body/log/weight/date/2019-02-20/2019-03-01.json"
\
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
weight : bmi | Calculated BMI in the format X.XX.
weight : date | Log entry date in the format yyyy-MM-dd.
weight : fat | The body fat percentage.
weight : logId | The weight log IDs. It's unique to the user, but not globally unique.
weight : source | The source of the weight log.

【Context No.20】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | Returned if the given user is already subscribed to the stream using the same subscription ID.
---|---
201 | Returned if a new subscription was created in response to your request.
409 | Returned if the given user is already subscribed to this stream using a different subscription ID, OR if the given subscription ID is already used to identify a subscription to a different stream.
**Conflicts**
A single user can only subscribe to the same stream once. If a conflict arises
trying to add a subscription, the server will respond with an HTTP 409
Conflict. It will still return the same response elements, but in this case,
the body will tell you that the subscription already exists so that corrective
action must be taken.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
### Activity webhook notifications
The Fitbit Web API can send notifications when a Fitbit user has new data to
download. This is possible by implementing the Subscription API and
subscribing to one or more data collections. See [ Using
Subscriptions](/build/reference/web-api/developer-guide/using-subscriptions/).
Whenever the activity service recognizes a change to the user’s data, a
notification is sent to your application’s subscriber.

【Context No.21】
Developers who need to display the most accurate distance values, we suggest
using only the intraday distance data points instead of the activity summary.
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/delete-favorite-activity/)
[Delete Favorite Activity](/build/reference/web-api/activity/delete-favorite-
activity/)
[Get Activity Log List](/build/reference/web-api/activity/get-activity-log-
list/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-activity-log-list/)

【Context No.22】
* Elevation time series (/elevation, /floors) are only available for users with compatible trackers.
  * The activities collection are maintained for backwards compatible resource URLs (e.g. (activities/log/calories)).
### Resource Options
All Activity | Tracker Only Activity
---|---
activityCalories | tracker/activityCalories
calories | tracker/calories
caloriesBMR | N/A
distance | tracker/distance
elevation | tracker/elevation
floors | tracker/floors
minutesSedentary | tracker/minutesSedentary
minutesLightlyActive | tracker/minutesLightlyActive
minutesFairlyActive | tracker/minutesFairlyActive
minutesVeryActive | tracker/minutesVeryActive
steps | tracker/steps
swimming-strokes | N/A
**Calorie Time Series Differences**
  * **calories** \- The top level time series for calories burned inclusive of BMR, tracked activity, and manually logged activities.
  * **caloriesBMR** \- Value includes only [BMR](https://en.wikipedia.org/wiki/Basal_metabolic_rate) calories.
  * **activityCalories** \- The number of calories burned during the day for periods of time when the user was active above sedentary level. This value is calculated minute by minute for minutes that fall within this criteria. This includes activity burned calories and BMR.
  * **tracker/calories** \- Calories burned inclusive of BMR according to movement captured by a Fitbit tracker.
  * **tracker/activityCalories** \- Calculated similarly to _activityCalories_ , but uses only tracker data. Manually logged activities are excluded.
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length. Devices
that support on-device or connected GPS will record distance, pace and speed
from the GPS data when the exercise is initiated using the on-device Exercise
application. If the person begins moving before receiving a GPS signal, steps
and stride length are used to calculate distance until the GPS connects.

【Context No.23】
* Elevation time series (/elevation, /floors) are only available for users with compatible trackers.
  * The activities collection are maintained for backwards compatible resource URLs (e.g. (activities/log/calories)).
### Resource Options
All Activity | Tracker Only Activity | Maximum Date Range
---|---|---
activityCalories | tracker/activityCalories | 30 days
calories | tracker/calories | 1095 days
caloriesBMR | N/A | 1095 days
distance | tracker/distance | 1095 days
elevation | tracker/elevation | 1095 days
floors | tracker/floors | 1095 days
minutesSedentary | tracker/minutesSedentary | 1095 days
minutesLightlyActive | tracker/minutesLightlyActive | 1095 days
minutesFairlyActive | tracker/minutesFairlyActive | 1095 days
minutesVeryActive | tracker/minutesVeryActive | 1095 days
steps | tracker/steps | 1095 days
swimming-strokes | N/A | 1095 days
**Calorie Time Series Differences**
  * **calories** \- The top level time series for calories burned inclusive of BMR, tracked activity, and manually logged activities.
  * **caloriesBMR** \- Value includes only [BMR](https://en.wikipedia.org/wiki/Basal_metabolic_rate) calories.
  * **activityCalories** \- The number of calories burned during the day for periods of time when the user was active above sedentary level. This value is calculated minute by minute for minutes that fall within this criteria. This includes activity burned calories and BMR.
  * **tracker/calories** \- Calories burned inclusive of BMR according to movement captured by a Fitbit tracker.
  * **tracker/activityCalories** \- Calculated similarly to _activityCalories_ , but uses only tracker data. Manually logged activities are excluded.
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed. Please note, stride length is approximated by the person's height and
gender.
`distance = steps * stride length`
`pace = time(sec) / distance`
`speed = distance / time(hour)`
Daily activity summary and auto-detected exercises' (recorded using Smart
Track) distance are estimated values based on steps and stride length.

【Context No.24】
# Create Weight Goal
Creates or updates a user's weight goal.
**Scope:** _weight_
* * *
## Request
POST |  /1/user/[user-id]/body/log/weight/goal.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Query Parameters**
startDate | required | Weight goal start date in the format yyyy-MM-dd. | decimal
---|---|---|---
startWeight | required | Starting weight before reaching goal in the format X.XX; entered in the unit system corresponding to the Accept-Language header provided. | decimal
weight | optional/required | Target weight goal in the format X.XX; entered in the unit system corresponding to the Accept-Language header provided. Required if the user doesn't have an existing weight goal. | decimal
**Request Headers**
authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
content-length | required | According to [RFC 7230, section 3.3.2](https://tools.ietf.org/html/rfc7230#section-3.3.2), this HTTP request requires the Content-Length header field containing the anticipated size of the payload body.

【Context No.25】
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
TCX returns GPS and heart rate data which are tied to the GPS data points. If
you only want heart rate, see [Heart Rate Intraday Time
Series](/build/reference/web-api/intraday/).
To retrieve the TCX data without GPS data, use the endpoint's query parameter
`includePartialTCX=true`. If the exercise does not contain GPS data, the
lowest heart rate granularity available is 1 minute.
#### Finding an activity's "log id"
The activity's log-id can be found 2 ways:
  * Programmatically, execute the [Get Activity Log List](/build/reference/web-api/activity/get-activity-log-list/) endpoint. Get the value of the `logId` element for each exercise returned.
  * Non-programmatically, find the list of activity logs in the Fitbit web application. Click on the "View Details" button next to each activity. The activity log ID will be displayed in the URL, e.g. 213560689 in https://[www.fitbit.com/activities/exercise/213560689](http://www.fitbit.com/activities/exercise/213560689).
### Distance, pace and speed
The Fitbit devices use the following formulas to calculate distance, pace and
speed.

【Context No.26】
# Get Frequent Activities
Retrieves a list of a user's frequent activities.
**Scope:** _activity_
* * *
## Request
GET |  /1/user/[user-id]/activities/frequent.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/activities/frequent.json
GET https://api.fitbit.com/1/user/GGNJL9/activities/frequent.json
curl -X GET "https://api.fitbit.com/1/user/[user-id]/activities/frequent.json"
\
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
activityId | The recorded activity’s identifier number. For example, the activityId for “Run” is 90009. For a complete list of exercise identifiers, see [Get All Activity Types](/build/reference/web-api/activity/get-all-activity-types/) endpoint.
calories | The number of calories burned associated with the activity.
description | Additional information about the recorded activity.
distance | Distance traveled associated with the recorded activity.
duration | The length in time (milliseconds) after the exercise was edited. This value will contain pauses during the exercise.
name | The name of the recorded activity.

【Context No.27】
goal : weight | The weight goal to achieve.
goal : weightThreshold | The recommended amount of weight to lose each week to achieve and maintain goal.
goal : fat | The body fat goal to achieve.

    **Weight Goal**
    {
      "goal": {
        "goalType": "LOSE",
        "startDate": "2018-06-13",
        "startWeight": 105.28,
        "weight": 99.79,
        "weightThreshold": 0.05
      }
    }
    **Body Fat Goal**
    {
      "goal": {
        "fat": 25
      }
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/body/delete-weight-log/)
[Delete Weight Log](/build/reference/web-api/body/delete-weight-log/)
[Get Body Fat Log](/build/reference/web-api/body/get-bodyfat-log/)
[!

【Context No.28】
# Get Weight Log
Retrieves a list of all user's weight log entries for a given date.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/log/weight/date/[date].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
date | required | The date in the format yyyy-MM-dd
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/body/log/weight/date/2019-03-20.json
GET https://api.fitbit.com/1/user/GGNJL9/body/log/weight/date/2019-03-20.json
curl -X GET
"https://api.fitbit.com/1/user/-/body/log/weight/date/2019-03-20.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
weight : bmi | Calculated BMI in the format X.XX<./td>
weight : date | Log entry date in the format yyyy-MM-dd.
weight : logId | Weight Log IDs are unique to the user, but not globally unique.
weight : source | The source of the weight log. See ["source" values](/build/reference/web-api/body/get-weight-log/#source-values) for more information.
**Support:** `API` | `Aria` | `AriaAir` | `Withings`
weight : time | Time of the measurement; hours and minutes in the format HH:mm:ss, set to the last second of the day if not provided.

【Context No.29】
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
Access to the Intraday Time Series for personal use (accessing your own data)
is available through the "Personal" App Type.
**Restriction** : Activity Intraday data cannot be retrieved for more than a
24 hour period. Any requests that expand over a 24 hour period will result
with the summary data for the date range specified.
The activity intraday time series data for a given resource is returned in the
format requested. The endpoint mimics the Get Activity Time Series endpoints.
If your application has the appropriate access, your calls to a time series
endpoint for a specific day (by using start and end dates on the same day or a
period of 24 hours), the response will include extended intraday values with
1-minute, 5-minute or 15-minute detail level for that day. Unlike other time
series calls that allow fetching data of other users, intraday data is
available only for and to the authorized user.
Any discrepancies between time series detail-level totals vs daily summary
totals is likely due to how the device calculates on-wrist and off-wrist data.
On-wrist data is defined as data collected while the device is worn. On-wrist
data is also referred to as Intraday data. Off-wrist data is defined as data
collected while the device is not worn. For example, step data can be
collected if the device was in a bag while driving down a bumpy road. By
design, daily summary totals include on-wrist totals and off-wrist totals;
while Intraday totals include on-wrist totals only.
#### Considerations
  1. If a user hasn't synced a tracker for more than seven (7) days, the tracker stores only summary values for the days older than one week. In this case, the intraday data for steps is zero and the intraday calories are calculated from BMR or EER. Intraday steps could be estimated from the total daily summary data by the equation above.
  2.

【Context No.30】
See [ How does my Fitbit device calcuate my daily
activity?](https://support.google.com/fitbit/answer/14237111) for more
information.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-lifetime-stats/)
[Get Lifetime Stats](/build/reference/web-api/activity/get-lifetime-stats/)

【Context No.31】
**Support:** `API` | `Aria` | `AriaAir` | `Withings`
fat : time | The timestamp when the body fat log was recorded.

    {
      "fat": [
        {
          "date": "2019-03-20",
          "fat": 15,
          "logId": 1553067000000,
          "source": "Aria",
          "time": "07:38:14"
        }
      ]
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
### "source" values
This field returns information on whether the user’s body fat or weight data
was automatically or manually entered. It includes the following values:
  1. **API** : The weight and/or body fat data originated from a 3rd party integration using the Web API, the data was manually entered into the Fitbit mobile or web application, or the data recorded by a predefined scale was manually edited.
  2.

【Context No.32】
# Get Body Fat Time Series by Date
Retrieves a list of all user's body fat log entries for a given period.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/log/fat/date/[date]/[period].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
date | required | The end date of the period specified in the format `yyyy-MM-dd` or `today`.
period | required | The range for which data will be returned.
**Supported:** `1d` | `7d` | `30d` | `1w` | `1m`. 3m, 6m, 1y, or max are not supported.
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/body/log/fat/date/2019-02-20/7d.json
GET https://api.fitbit.com/1/user/GGNJL9/body/log/fat/date/2019-02-20/7d.json
curl -X GET
"https://api.fitbit.com/1/user/-/body/log/fat/date/2019-02-20/7d.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
fat : date | The date the body fat log was recorded.
fat : fat | The body fat percentage.
fat : logId | The body fat log Id.
fat : source | The location where the body fat data originated.

【Context No.33】
# Delete Weight Log
Deletes a Weight log entry
**Scope:** _weight_
* * *
## Request
DELETE |  /1/user/[user-id]/body/log/weight/[weight-log-id].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
weight-log-id | required | The weight log ID to be deleted.
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
DELETE https://api.fitbit.com/1/user/-/body/log/weight/1553069700000.json
DELETE https://api.fitbit.com/1/user/GGNJL9/body/log/weight/1553069700000.json

curl -X DELETE
"https://api.fitbit.com/1/user/-/body/log/weight/1553069700000.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).

【Context No.34】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
The response is returned in the format requested using units in the unit
system that corresponds to the Accept-Language header provided.
To fetch only the total amount of water consumed, use the [Get
Food](/build/reference/web-api/nutrition/get-food/) endpoint. Water log
entries in response are sorted exactly the same as they are presented on the
Fitbit website.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/nutrition/get-water-goal/)
[Get Water Goal](/build/reference/web-api/nutrition/get-water-goal/)
[Search Foods](/build/reference/web-api/nutrition/search-foods/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/nutrition/search-foods/)

【Context No.35】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
201 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

[Create Body Fat Log](/build/reference/web-api/body/create-bodyfat-log/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/body/create-bodyfat-log/)

【Context No.36】
# Get Heart Rate Time Series by Date
Retrieves the heart rate time series data over a period of time by specifying
a date and time period. The response will include only the daily summary
values.
**Scope:** _heartrate_
* * *
## Request
GET |  /1/user/[user-id]/activities/heart/date/[date]/[period].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
date | required | The date in the format `yyyy-MM-dd` or `today`.
period | required | Number of data points to include.
**Supported:** `1d` | `7d` | `30d` | `1w` | `1m`
**Query Parameters**
timezone | optional | Returns the response from the specified timezone.
**Supported:** `UTC` | string
---|---|---|---
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/activities/heart/date/today/1d.json
GET https://api.fitbit.com/1/user/GGNJL9/activities/heart/date/today/1d.json
curl -X GET
"https://api.fitbit.com/1/user/-/activities/heart/date/today/1d.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
activities-heart : datetime | Date of the heart rate log.
activities-heart : value : customHeartRateZone : caloriesOut | Number calories burned with the custom heart rate zone.
activities-heart : value : customHeartRateZone : max | Maximum range for the custom heart rate zone.

【Context No.37】
Therefore, the only supported value is 0. Using the "offset" query
parameter in any other capacity could cause your application to break.
To paginate, request the next and previous links in the pagination response
object. The next and previous link should include afterDate or beforeDate
parameters of the datetime for the last reading in each page.
### Collecting ECG data
Before taking your first reading, review the Heart Rhythm Assessment. The
Heart Rhythm Assessment is found in the Fitbit mobile application.
Instructions can be found in the section "How do I use the Fitbit ECG app?"
within the help article [What is the Fitbit ECG
app?](https://support.google.com/fitbit/answer/14236718).
### Classification of ECG results
After the user takes a 30 second ECG reading or spot check, Fitbit classifies
the user's heart rhythm as one of the 5 results:
  * **Atrial fibrillation (AFib)** : Your heart rhythm shows signs of AFib, an irregular heart rhythm. AFib can have serious health effects. You should contact your doctor.
  * **Normal sinus rhythm (NSR)** : Your heart rhythm appears normal. It doesn’t show signs of AFib, an irregular heart rhythm.
  * **Inconclusive** : If your heart rate is over 120 bpm or under 50 bpm, the Fitbit ECG app can’t assess your heart rhythm. There are many possible reasons for getting an inconclusive result, but common causes are moving too much during the assessment, not resting git stat your hands on a table, or other arrhythmia.
  * **Inconclusive: High heart rate** : If your heart rate is over 120 bpm, the Fitbit ECG app can’t assess your heart rhythm. Heart rate can be high for many reasons, such as: recent exercise, stress, nervousness, alcohol, dehydration, infection, AFib, or other arrhythmia.
  * **Inconclusive: Low heart rate** : If your heart rate is under 50 bpm, the Fitbit ECG app can’t assess your heart rhythm. Heart rate can be low for many reasons, such as: taking certain medications such as beta-blockers or calcium channel blockers, having excellent aerobic fitness, or other arrhythmia.
### Subscription Support for ECG
ECG does not support subscription notifications (webhooks).

【Context No.38】
com%2Fcallback \
&code_verifier=<code_verifier_value>"
**Authorization Code Grant Flow with PKCE (App Type: Client)**
curl -X POST "https://api.fitbit.com/oauth2/token" \
-H "accept: application/json" \
-d "client_id=<client_id>&grant_type=authorization_code&code=<authorization_code> \
&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback \
&code_verifier=<code_verifier_value>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
access_token | The updated active access token.
expires_in | The time the access token expires in seconds.
refresh_token | The updated active refresh token.
token_type | **Supported** : `Bearer`
user_id | The Fitbit user ID associated with the access token and refresh token
{
"access_token": "eyJhbGciOiJIUzI1...",
"expires_in": 28800,
"refresh_token": "c643a63c072f0f05478e9d18b991db80ef6061e...",
"token_type": "Bearer",
"user_id": "GGNJL9"
}

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/developer-guide/application-design/#Localization).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.

【Context No.39】
The heart rate intraday time series data is returned in the format requested.
The endpoint mimics the Get Heart Rate Time Series endpoints. If your
application has the appropriate access, your calls to a time series endpoint
for a specific day (by using start and end dates on the same day or a period
of 24 hours), the response will include extended intraday values with
1-second, 1-minute, 5-minute or 15-minute detail level for that day. Unlike
other time series calls that allow fetching data of other users, intraday data
is available only for and to the authorized user.
The "1sec" detail-level may not always return data in 1 second sampling
outside of a recorded exercise. Sampling is more granular during exercise to
provide accuracy. To fetch the granular heart rate during an exercise, query
data using the [GET Activity TCX endpoint](/build/reference/web-
api/activity/get-activity-tcx/).
### Resting Heart Rate
Resting heart rate is a measurement of how many times the person’s heart beats
per minute when completely at rest. Typically, resting heart rate ranges from
60-100 bpm, but the rate can vary based on age and fitness level. The best
time to get an accurate resting heart rate reading is while the person is
asleep. To calculate resting heart rate, the device takes the heart rate
measurements throughout the day and focuses on periods when the person is
still and well-rested, with a priority for during sleep measurements. If there
isn't enough data, a resting heart rate value won't be available for that day.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/intraday/get-br-intraday-by-interval/)
[Get Breathing Rate Intraday by Interval](/build/reference/web-
api/intraday/get-br-intraday-by-interval/)
[Get Heart Rate Intraday by Interval](/build/reference/web-api/intraday/get-
heartrate-intraday-by-interval/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/intraday/get-heartrate-intraday-by-interval/)

【Context No.40】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
### "source" values
This field returns information on whether the user’s body fat or weight data
was automatically or manually entered. It includes the following values:
  1. **API** : The weight and/or body fat data originated from a 3rd party integration using the Web API, the data was manually entered into the Fitbit mobile or web application, or the data recorded by a predefined scale was manually edited.
  2. **Aria** : The weight and/or body fat data originated from an Aria or Aria 2 scale.
  3. **AriaAir** : The weight and/or body fat data originated from an Aria Air scale.
  4. **Withings** : The weight and/or body fat data originated from a Withings scale.
[!

【Context No.41】
categories : activities : hasSpeed | **Supported** : `true` | `false`
categories : activities : id | Numerical value representing the corresponding activity.
categories : activities : name | The name of the activity or exercise.

    {
      "categories": [
        {
          "activities": [
            {
              "accessLevel": "PUBLIC",
              "activityLevels": [
                {
                  "id": 3016,
                  "maxSpeedMPH": -1,
                  "mets": 8.5,
                  "minSpeedMPH": -1,
                  "name": "6 - 8 inch step"
                },
                {
                  "id": 3017,
                  "maxSpeedMPH": -1,
                  "mets": 10,
                  "minSpeedMPH": -1,
                  "name": "10 - 12 inch step"
                }
              ],
              "hasSpeed": false,
              "id": 90004,
              "name": "Aerobic step"
            },
            {
              "accessLevel": "PUBLIC",
              "hasSpeed": false,
              "id": 3015,
              "mets": 6.5,
              "name": "Aerobic, general"
            },
    .
    .
    .

**Response Headers** content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.

【Context No.42】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

* * *
## Additional Information
Knowing when a Fitbit device last synced with the Fitbit server is useful when
diagnosing reports that the Fitbit app is showing different values from what
the Fitbit Web API returns. Fitbit's own apps use the same Web API available
to third-party developers. However, when an active Bluetooth connection is
available, Fitbit's apps will show the summary values displayed on the device.
Often, this data has not yet synced with Fitbit's servers.
Third-party applications can check when a Fitbit device last synced with
Fitbit's servers using this endpoint.
For information on supporting users who have multiple devices paired with
their account, see [Multi-Device Overview](/build/reference/web-api/developer-
guide/best-practices/#Multi-Device-Overview).
[!

【Context No.43】
## Additional Information
### "source" values
This field returns information on whether the user’s body fat or weight data
was automatically or manually entered. It includes the following values:
  1. **API** : The weight and/or body fat data originated from a 3rd party integration using the Web API, the data was manually entered into the Fitbit mobile or web application, or the data recorded by a predefined scale was manually edited.
  2. **Aria** : The weight and/or body fat data originated from an Aria or Aria 2 scale.
  3. **AriaAir** : The weight and/or body fat data originated from an Aria Air scale.
  4. **Withings** : The weight and/or body fat data originated from a Withings scale.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/body/get-bodyfat-log/)
[Get Body Fat Log](/build/reference/web-api/body/get-bodyfat-log/)

【Context No.44】
# Get Body Goals
Retrieves a user's body fat and weight goals.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/log/[goal-type]/goal.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
goal-type | required | **Supported** : `weight` | `fat`
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/body/log/weight/goal.json
GET https://api.fitbit.com/1/user/GGNJL9/body/log/weight/goal.json
curl -X GET "https://api.fitbit.com/1/user/-/body/log/weight/goal.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
goal : goalType | The goal type.
**Supported:** `LOSE` | `GAIN` | `MAINTAIN`
goal : startDate | The goal start date.
goal : startWeight | User's weight when goal was established.
goal : weight | The weight goal to achieve.
goal : weightThreshold | The recommended amount of weight to lose each week to achieve and maintain goal.
goal : fat | The body fat goal to achieve.

【Context No.45】
**Examples**
  * URL
  * CURL
POST
https://api.fitbit.com/1/user/-/body/log/fat.json?fat=15&date=2019-03-20&time=08:15:00
POST
https://api.fitbit.com/1/user/GGNJL9/body/log/fat.json?fat=15&date=2019-03-20&time=08:15:00

curl -X POST
"https://api.fitbit.com/1/user/-/body/log/fat.json?fat=15&date=2019-03-20&time=08%3A15%3A00"
\
-H "accept: application/json" \
-H "authorization: Bearer <access_token>" \
-H "content-length: <message_body_size>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
fatLog : date | The date the body fat log was recorded.
fatLog : fat | The body fat percentage.
fatLog : logId | The body fat log Id.
**Note** : The returned Body Fat Log IDs are unique to the user, but not
globally unique.
fatLog : source | The location where the body fat data originated. See ["source" values](/build/reference/web-api/body/create-bodyfat-log/#source-values) for more information.
**Support:** `API` | `Aria` | `AriaAir` | `Withings`
fatLog : time | The timestamp when the body fat log was recorded.

    {
      "fatLog": {
        "date": "2019-03-20",
        "fat": 15,
        "logId": 1553069700000,
        "source": "api",
        "time": "08:15:00"
      }
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests.

【Context No.46】
br : value : fullSleepSummary : breathingRate | Average number of breaths taken per minute throughout the entire period of sleep which you can compare to the sleep stage-specific measurements.

    {
      "br": [
        {
          "value": {
            "deepSleepSummary": {
              "breathingRate": 16.8
            },
            "remSleepSummary": {
              "breathingRate": -1.0
            },
            "fullSleepSummary": {
              "breathingRate": 17.8
            },
            "lightSleepSummary": {
              "breathingRate": 16.8
            },
          },
          "dateTime": "2021-10-25"
        },
        {
          "value": {
            "lightSleepSummary": {
              "breathingRate": 16.8
            },
            "deepSleepSummary": {
              "breathingRate": 16.8
            },
            "remSleepSummary": {
              "breathingRate": 16.3
            },
            "fullSleepSummary": {
              "breathingRate": 17.8
            }
          },
          "dateTime": "2021-10-26"
        }
      ]
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.

【Context No.47】
{
            "caloriesOut": 6.98904,
            "max": 147,
            "min": 121,
            "minutes": 1,
            "name": "Cardio"
          },
          {
            "caloriesOut": 0,
            "max": 220,
            "min": 147,
            "minutes": 0,
            "name": "Peak"
          }
        ],
        "lightlyActiveMinutes": 110,
        "marginalCalories": 281,
        "restingHeartRate": 77,
        "sedentaryMinutes": 802,
        "steps": 1698,
        "useEstimation": true,
        "veryActiveMinutes": 0
      }
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

【Context No.48】
# Create Body Fat Log
Creates a body fat log entry.
**Scope:** _weight_
* * *
## Request
POST |  /1/user/[user-id]/body/log/fat.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Query Parameters**
fat | required | Body fat measurement in the format X.XX. | decimal
---|---|---|---
date | required | The date the body fat measurement was recorded in the format yyyy-MM-dd. | string ($date)
time | optional | The timestamp the body fat measurement was recorded in the format HH:mm:ss. If a value is not provided, the timestamp will be the last second of the day. | string ($time)
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
content-length | required | According to [RFC 7230, section 3.3.2](https://tools.ietf.org/html/rfc7230#section-3.3.2), this HTTP request requires the Content-Length header field containing the anticipated size of the payload body.

【Context No.49】
**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
### Displaying VO2 Max data
The cardio fitness score is calculated every time the person exercises. A
user’s cardio fitness score is determined by their resting heart rate, age,
gender, weight, and other personal information. The user’s cardio fitness
score will be shown as a range unless the user uses GPS for runs, in which
case it will be returned as a single numeric value. For more information, see
[What is My Cardio Score?](https://support.google.com/fitbit/answer/14237924).
### Subscription Support for Cardio Fitness Score (VO2 Max)
VO2 Max does not support [subscription](/build/reference/web-api/developer-
guide/using-subscriptions/) notifications (webhooks). Since VO2 Max is
recorded during exercise, the activity notification arrival time can be used
to estimate when the V02 max data will be available. For more information, see
[Displaying V02 Max data](/build/reference/web-api/cardio-fitness-score/get-
vo2max-summary-by-date/#Displaying-VO2-Max-data). For applications that do not
track activity, or cannot retrieve activity data, we recommend querying the
V02 max data once or twice a day to determine if new data is available (e.g.
12 noon and midnight).
### Rate limit
The VO2 Max endpoints are bound by our standard rate limit. For more
information, see [Rate Limits](/build/reference/web-api/developer-
guide/application-design/#Rate-Limits).
### Device compatibility
VO2 Max data is retrieved from the user’s Fitbit account.

【Context No.50】
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.
fitbit-rate-limit-reset | The number of seconds until the rate limit resets.
> **Note:** The rate limit headers are approximate and asynchronously updated.
> This means that there may be a minor delay in the decrementing of remaining
> requests. This could result in your application receiving an unexpected 429
> response if you don't track the total number of requests you make yourself.

**Response Type**
HTTP Status Code | HTTP response code. List of codes are found in the [Troubleshooting Guide](/build/reference/web-api/troubleshooting-guide/error-messages/).
---|---
Status Message | Description of the status code.
Response Body | Contains the JSON response to the API call. When errors are returned by the API call, the errorType, fieldName and message text will provide more information to the cause of the failure.
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
The response if provided in the format requested using units in the unit
system which corresponds to the Accept-Language header provided.
A favorite activity record contains the distance and duration values recorded
during the last time the activity was logged. The record retrieved can be used
to log the activity via the Log Activity endpoint with the same or adjusted
values for distance and duration.
[![previous](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-daily-activity-summary/)
[Get Daily Activity Summary](/build/reference/web-api/activity/get-daily-
activity-summary/)
[Get Frequent Activities](/build/reference/web-api/activity/get-frequent-
activities/)
[![next](/images/next-4a798552f1301bc41839afd0a22e5e82.svg)](/build/reference/web-
api/activity/get-frequent-activities/)

【Context No.51】
# Get Favorite Activities
Retrieves a list of a user's favorite activities.
**Scope:** _activity_
* * *
## Request
GET |  /1/user/[user-id]/activities/favorite.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/activities/favorite.json
GET https://api.fitbit.com/1/user/GGNJL9/activities/favorite.json
curl -X GET "https://api.fitbit.com/1/user/-/activities/favorite.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
activityId | The recorded activity’s identifier number. For example, the activityId for “Run” is 90009. For a complete list of exercise identifiers, see [Get All Activity Types](/build/reference/web-api/activity/get-all-activity-types/) endpoint.
description | Additional information about the recorded activity.
mets | The metabolic equivalent (METs) of the activity performed.
name | The name of the recorded activity.

    [
      {
        "activityId": 15680,
        "description": "",
        "mets": 6,
        "name": "Tennis, doubles"
      }
    ]

**Response Headers**
content-type | The media type of the response content being sent to the client.
**Supported:** `application/json`
---|---
fitbit-rate-limit-limit | The quota number of calls.
fitbit-rate-limit-remaining | The number of calls remaining before hitting the rate limit.

【Context No.52】
summary : fairlyActiveMinutes | Total minutes the user was fairly/moderately active.
summary : floors | The equivalent floors climbed for the day displayed in the units defined by the Accept-Language header.
summary : heartRateZones : caloriesOut | The _Heart Rate_ scope is required to see this value.
summary : heartRateZones : max | The _Heart Rate_ scope is required to see this value.
summary : heartRateZones : min | The _Heart Rate_ scope is required to see this value.
summary : heartRateZones : minutes | The _Heart Rate_ scope is required to see this value.
summary : heartRateZones : name | _Heart Rate_ scope is required to see this value.
**Supported** : `Out of Range` | `Fat Burn` | `Cardio` | `Peak`
summary : lightlyActiveMinutes | Total minutes the user was lightly active.
summary : marginalCalories | Total marginal estimated calories burned for the day.
summary : restingHeartRate | The user’s calculated resting heart rate. The _Heart Rate_ scope is required to see this value. See [Resting Heart Rate](/build/reference/web-api/activity/get-daily-activity-summary/#resting-heart-rate).
summary : sedentaryMinutes | Total minutes the user was sedentary.
summary : steps | Total steps taken for the day.
summary : useEstimation | Boolean value stating if estimations are used in calculations.
**Supported** : `true` | `false`
summary : veryActiveMinutes | Total minutes the user was very active.

    {
      "activities": [],
      "goals": {
        "activeMinutes": 30,
        "caloriesOut": 1950,
        "distance": 8.05,
        "floors": 10,
        "steps": 6800
      },
      "summary": {
        "activeScore": -1,
        "activityCalories": 525,
        "calorieEstimationMu": 2241,
        "caloriesBMR": 1973,
        "caloriesOut": 2628,
        "caloriesOutUnestimated": 2628,
        "customHeartRateZones": [
          {
            "caloriesOut": 2616.7788,
            "max": 140,
            "min": 30,
            "minutes": 1432,

【Context No.53】
# Get Devices
Retrieves a list of Fitbit devices paired to a user's account.
**Scope:** _settings_
* * *
## Request
GET |  /1/user/[user-id]/devices.json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
**Request Headers**
authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | Defines the media type of the response content the client is expecting.
**Supported:** `application/json`
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET https://api.fitbit.com/1/user/-/devices.json
GET https://api.fitbit.com/1/user/GGNJL9/devices.json
curl -X GET "https://api.fitbit.com/1/user/-/devices.json" \
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
battery | Returns the battery level of the device.
**Supported** : `High` | `Medium` | `Low` | `Empty`
batteryLevel | Returns the battery level percentage of the device.
deviceVersion | The product name of the device.
features | Lists any unique features supported by the device.
id | The device ID.
lastSyncTime | Timestamp representing the last time the device was sync'd with the Fitbit mobile application.
mac | Mac ID number
type | **Supported** : `TRACKER` | `SCALE`

    [
      {
        "battery": "Medium",
        "batteryLevel": 60,
        "deviceVersion": "Charge 2",
        "features": [],
        "id": "816713257",
        "lastSyncTime": "2019-11-07T12:00:58.000",
        "mac": "16ADD56D54GD",
        "type": "TRACKER"
      }
    ]

**Response Headers**
content-type | The media type of the response content being sent to the client.

【Context No.54】
activities : calories | Number of calories burned during the exercise.
activities : caloriesLink | Web API endpoint to call to get the specific calories burned for the named exercise.
activities : detailsLink | An endpoint that provides additional details about the user's activity either manually logged on the mobile application or API, or auto-recognized by the Fitbit device. Activities recorded using the device's exercise app are not supported.
activities : distance | Distance traveled during the exercise.
activities : distanceUnit | Distance units defined by the Accept-Language header.
activities : duration | The length in time (milliseconds) after the exercise was edited. If the exercise was not edited, the duration = originalDuration. This value will contain pauses during the exercise.
activities : elevationGain | Elevation gained during the exercise.
activities : hasActiveZoneMinutes | The _Heart Rate_ scope is required to see this value.
**Supported** : `true` | `false`
activities : heartRateLink | The _Heart Rate_ scope is required to see this value.
activities : heartRateZones : caloriesOut | The _Heart Rate_ scope is required to see this value.
activities : heartRateZones : max | The _Heart Rate_ scope is required to see this value.
activities : heartRateZones : min | The _Heart Rate_ scope is required to see this value.
activities : heartRateZones : minutes | The _Heart Rate_ scope is required to see this value.
activities : heartRateZones : name | The _Heart Rate_ scope is required to see this value. **Supported** : `Cardio` | `Fat Burn` | `Out of Range` | `Peak`
activities : lastModified | The timestamp the exercise was last modified.
activities : logId | The activity log identifier for the exercise.
activities : logType | The type of activity log created.
**Supported** : `auto_detected` | `manual` | `mobile_run` | `tracker` | the name of the 3rd party application
activities : manualValuesSpecified : calories | A boolean value stating if calories was provided when recording the exercise.
activities : manualValuesSpecified : distance | A boolean value stating if distance was provided when recording the exercise.
activities : manualValuesSpecified : steps | A boolean value stating if steps was provided when recording the exercise.
activities : originalDuration | The initial length in time (milliseconds) that the exercise was recorded. This value will contain pauses during the exercise.

【Context No.55】
**Response Codes**
200 | A successful request.
---|---
400 | The request had bad syntax or was inherently impossible to be satisfied.
401 | The request requires user authentication.
> **Note:** For a complete list of response codes, please refer to the
> [Troubleshooting Guide](/build/reference/web-api/troubleshooting-
> guide/error-messages/).

## Additional Information
### Sleep periods
The value returned does not apply to a single date, necessarily, but to a
measurement taken during a period of sleep. For most users, this will span two
dates to account for Temperature (Skin) values on the date at which the
summary was provided, as well as during the previous night’s sleep.
### Collecting Temperature (Skin) data
Temperature (Skin) data is collected when the user is in an extended period of
sleep of at least 3 hours.
There are many factors that can affect a user’s Temperature (Skin) value.
Recording the data while a person is asleep allows the Fitbit device to
correctly and accurately collect Temperature (Skin) data. Data is only
processed when the user is still. If a user moves too much or their sleep
session is too short, this can prevent Temperature (Skin) data from being
processed correctly. In addition, if recorded data is incapable of computing
specific sleep stages for a period of sleep, this will compromise the user’s
ability to retrieve a Temperature (Skin) value.
The device automatically stops collecting Temperature (Skin) data after it
determines the user is awake, typically through physical movements. Once the
user syncs their device, Temperature (Skin) data will begin processing for
that sleep period. It usually takes up to 15 minutes for the data to be
processed and made available to download.
### Subscription Support for Temperature (Skin)
Temperature (Skin) does not support [subscription](/build/reference/web-
api/developer-guide/using-subscriptions/) notifications (webhooks). Since
Temperature (Skin) is recorded during periods of sleep, the sleep notification
arrival time can be used to estimate when the Temperature (Skin) data will be
available (See the "[Collecting Data](/build/reference/web-
api/temperature/get-temperature-skin-summary-by-interval/#Collecting-
Temperature-Skin-data)" section).

【Context No.56】
# Get Body Time Series by Date Range
Retrieves a list of all user's bmi, body fat, or weight for a given date
range.
**Scope:** _weight_
* * *
## Request
GET |  /1/user/[user-id]/body/[resource]/date/[begin-date]/[end-date].json
---|---
**URI Arguments**
user-id | required | The encoded ID of the user. Use "-" (dash) for current logged-in user.
---|---|---
resource | required | The body resource to be returned.
**Supported** : `bmi` | `fat` | `weight`
begin-date | required | The start date specified in the format `yyyy-MM-dd` or `today`.
end-date | required | The end date specified in the format `yyyy-MM-dd` or `today`.
**Maximum range:** `1095 days`
**Request Headers** authorization | required | Specify the token type and Fitbit user’s access token.
**Token type:** `Bearer`
---|---|---
accept | optional | The media type of the response content the client is expecting.
**Supported:** `application/json`
accept-language | recommended | The measurement unit system to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
accept-locale | optional | The locale to use for response values. See [Localization](/build/reference/web-api/developer-guide/application-design/#Localization).
**Examples**
  * URL
  * CURL
GET
https://api.fitbit.com/1/user/-/body/weight/date/2019-01-01/2019-01-03.json
GET
https://api.fitbit.com/1/user/GGNJL9/body/weight/date/2019-01-01/2019-01-03.json
curl -X GET
"https://api.fitbit.com/1/user/-/body/weight/date/2019-01-01/2019-01-03.json"
\
-H "accept: application/json" \
-H "authorization: Bearer <access_token>"

* * *
## Response
  * Description
  * Example Response
Element Name | Description
---|---
body-<resource> : datetime | The datetime which the resource was recorded.
body-<resource> : value | The value of the resource.

【Context No.57】
If the exercise was not edited, the startTime = originalStartTime.
activities : steps | Number of steps taken during the exercise.
activities : tcxLink | URL to download the TCX file.
pagination : afterDate |
pagination : limit |
pagination : next |
pagination : offset |
pagination : previous |
pagination : sort |

    {
      "activities": [
        {
          "activeDuration": 1536000,
          "activityLevel": [
            {
              "minutes": 3,
              "name": "sedentary"
            },
            {
              "minutes": 9,
              "name": "lightly"
            },
            {
              "minutes": 2,
              "name": "fairly"
            },
            {
              "minutes": 11,
              "name": "very"
            }
          ],
          "activityName": "Walk",
          "activityTypeId": 90013,
          "calories": 204,
          "caloriesLink": "https://api.fitbit.com/1/user/-/activities/calories/date/2019-01-03/2019-01-03/1min/time/12:08/12:34.json",
          "duration": 1536000,
          "elevationGain": 0,
          "lastModified": "2019-01-04T19:31:15.000Z",
          "logId": 19018673358,
          "logType": "auto_detected",
          "manualValuesSpecified": {
            "calories": false,
            "distance": false,
            "steps": false
          },
          "originalDuration": 1536000,
          "originalStartTime": "2019-01-03T12:08:29.000-08:00",
          "startTime": "2019-01-03T12:08:29.000-08:00",
          "steps": 1799,
          "tcxLink": "https://api.fitbit.com/1/user/-/activities/19018673358.tcx"
        }
      ],
      "pagination": {
        "afterDate": "2019-01-01",
        "limit": 1,
        "next": "https://api.fitbit.com/1/user/-/activities/list.json?offset=0&limit=1&sort=asc&afterDate=2019-01-01",
        "offset": 0,
        "previous": "",
        "sort": "asc"
      }
    }

**Response Headers**
content-type | The media type of the response content being sent to the client.
```

## Output Indicator
Ensure that, except for the parts modified to follow the latest specifications, the structure and format of the code remain identical to the original code. Here, "identical" means that there should be no differences (diff) whatsoever, including in indentation, spaces, line breaks, and code structure, which should all be exactly the same as the original.
If there are any changes beyond the modified sections, this is considered incorrect.
Also, verify that the modified code conforms to the latest specifications.